<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For Ravi üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

<style>
body{
margin:0;
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:'Baloo 2',cursive;
background:#f7f1f4;
overflow:hidden;
}

/* floating hearts */
#hearts{position:fixed;inset:0;pointer-events:none;}
.heart{
position:absolute;
opacity:.18;
animation:float 10s linear forwards;
}
@keyframes float{
from{transform:translateY(100vh);}
to{transform:translateY(-10vh);opacity:0;}
}

/* scrapbook card */
.container{
width:min(1050px,95%);
max-height:90vh;
overflow:auto;
background:#fff8f3;
border-radius:22px;
padding:34px 50px;
box-shadow:0 20px 45px rgba(0,0,0,.12);
text-align:center;
position:relative;
}
.container::before{
content:"";
position:absolute;
inset:-12px;
background:#ffeef4;
border-radius:24px;
transform:rotate(-1deg);
z-index:-1;
}

h1{
font-family:'Dancing Script',cursive;
font-size:4rem;
color:#b03a5b;
margin:0 0 12px;
}

#text{
max-width:760px;
margin:0 auto 20px;
font-size:1.38rem;
line-height:1.75;
white-space:pre-line;
}

.memory-note{
background:#fffdf9;
border:2px dashed #ffd0dc;
padding:20px;
border-radius:14px;
}

button{
padding:12px 20px;
margin:8px;
border:none;
border-radius:10px;
background:#ffe0ea;
color:#5b2e2e;
font-size:1.05rem;
cursor:pointer;
transition:.25s;
}
button:hover{transform:translateY(-3px);}
.primary{background:#ff5f7a;color:white;}

.fadeIn{
opacity:0;
animation:fadeText 2s ease forwards;
}
@keyframes fadeText{to{opacity:1;}}

@keyframes dropIn{
from{transform:translateY(-40px) rotate(-8deg);opacity:0;}
to{transform:translateY(0) rotate(-3deg);opacity:1;}
}

/* MOBILE FRIENDLY */
@media (max-width:768px){
.container{
padding:24px 18px;
max-height:95vh;
}
h1{font-size:2.8rem;}
#text{font-size:1.15rem;line-height:1.6;}
.final-photo{width:220px !important;}
.final-line{font-size:1.6rem !important;line-height:1.4;}
}
</style>
</head>

<body>

<div id="hearts"></div>

<div class="container">
<h1>Ravi‚Ä¶ üíñ</h1>
<div id="text"></div>
<div id="buttons"></div>
</div>

<audio id="bgMusic" src="music.mp3" loop></audio>
<audio id="yesMusic" src="music-lyrics.mp3"></audio>

<script>

/* floating hearts */
setInterval(()=>{
let h=document.createElement("div");
h.className="heart";
h.innerText="üíó";
h.style.left=Math.random()*100+"vw";
h.style.fontSize=(14+Math.random()*16)+"px";
document.getElementById("hearts").appendChild(h);
setTimeout(()=>h.remove(),10000);
},900);

/* music */
let musicStarted=false;
function startMusicOnce(){
if(!musicStarted){
const m=document.getElementById("bgMusic");
m.volume=0.10;
m.play();
musicStarted=true;
}
}

/* memories */
const memories=[
"I genuinely like you, more than I know how to say sometimes.",
"Remember that magic trick you did?\nI couldn‚Äôt stop smiling after that.",
"I still remember our run in Bhimtal.\nIt felt simple and perfect.",
"You standing outside my office with flowers.\nThat way you looked at me stayed with me.",
"You wearing those cute sweaters I got you,\nlooked ridiculously adorable.",
"And our dance on Tanna na na naah‚Ä¶\nI still replay that moment in my head sometimes.",
"After all these little moments,\nI have one tiny question."
];

let i=0;
const text=document.getElementById("text");
const buttons=document.getElementById("buttons");

function showMemory(){
text.className="memory-note";
text.innerText=memories[i];
buttons.innerHTML=`<button class="primary" onclick="next()">Continue ‚ú®</button>`;
}
function next(){
startMusicOnce();
i++;
i<memories.length?showMemory():question();
}

function question(){
text.className="";
text.innerText="So‚Ä¶ will you be my Valentine? üíñ";
buttons.innerHTML=`
<button class="primary" onclick="yes()">Yes ü§ç</button>
<button onclick="question()">No üôà</button>
<button onclick="replay()">Replay memories üß∏</button>`;
}

function replay(){
i=0;
showMemory();
}

/* YES ENDING */
function yes(){

text.innerText="I knew it‚Ä¶ you were always going to choose yes üòåü§ç";
buttons.innerHTML="";

const bg=document.getElementById("bgMusic");
const lyrics=document.getElementById("yesMusic");

let fade=setInterval(()=>{
if(bg.volume>0.05){bg.volume-=0.015;}
else{
clearInterval(fade);
bg.pause();
lyrics.volume=.28;
lyrics.play();
showFinal();
}
},120);
}

function showFinal(){

const wrap=document.createElement("div");
wrap.innerHTML=`<img src="us.jpg" class="final-photo"
style="width:300px;border:12px solid white;
box-shadow:0 12px 25px rgba(0,0,0,.25);
transform:rotate(-3deg);border-radius:4px;
animation:dropIn .7s ease;">`;
document.querySelector(".container").appendChild(wrap);

/* mobile auto-scroll */
setTimeout(()=>{
document.querySelector(".container")
.scrollTo({top:document.querySelector(".container").scrollHeight,behavior:"smooth"});
},300);

/* vibration */
if(navigator.vibrate) navigator.vibrate(40);

/* handwritten */
setTimeout(()=>{
const line=document.createElement("div");
line.className="fadeIn final-line";
line.style.fontFamily="'Dancing Script',cursive";
line.style.fontSize="2.2rem";
line.style.marginTop="16px";
line.style.color="#8a3b5d";
line.innerText="From now on, let‚Äôs choose each other, and keep choosing, every day.";
document.querySelector(".container").appendChild(line);

const extra=document.createElement("div");
extra.className="fadeIn";
extra.style.marginTop="18px";
extra.style.whiteSpace="pre-line";
extra.innerText=`Little things you do that stay with me‚Ä¶

I love the way you hold my hand while driving.
The way you call me ‚ÄúBacche‚Äù melts my heart every time.
Your forehead kisses make me feel safe and cared for.
The way you feed me feels like love in its simplest form.
Your worn jackets feel like hugs from you, even when you‚Äôre far away.
When you‚Äôre around, time runs too fast.
When you‚Äôre away, it feels the longest.`;

document.querySelector(".container").appendChild(extra);

const sign=document.createElement("div");
sign.className="fadeIn";
sign.style.marginTop="16px";
sign.style.color="#b07a8f";
sign.style.whiteSpace="pre-line";
sign.innerText=`Beba, I like you üêµ
I just wanted to make you smile.
Made with love, by Potato ü§ç`;

document.querySelector(".container").appendChild(sign);

},1200);
}

showMemory();
</script>

</body>
</html>
